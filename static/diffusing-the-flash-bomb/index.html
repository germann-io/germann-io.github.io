<!DOCTYPE html>
<html lang="en">

    <head>

        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="HandheldFriendly" content="True">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="theme-color" content="#A98B69"/>

        <title>Diffusing the Flash Bomb - Adobe Flash in 2021 | germann.io</title>
        <meta name="description" content="ideas and opinions">

        <style>
            .dark .background-pattern{background-image:url("../assets/images/dark-pattern.png?v=b2a6ba2f34")}.light .background-pattern{background-image:url("../assets/images/light-pattern.png?v=b2a6ba2f34")}.dark .post-presentation .author-image-fill{background-image:url("../assets/images/prof-icon-white.png?v=b2a6ba2f34")}.light .post-presentation .author-image-fill{background-image:url("../assets/images/prof-icon-dark.png?v=b2a6ba2f34")}.dark .logo-light,.light .logo-dark{display:inline-block}.dark .logo-dark,.light .logo-light{display:none}
        </style>

        <link href='https://fonts.googleapis.com/css?family=Raleway:400,300,600|Oswald:400,700|Montserrat:400,700' rel='stylesheet' type='text/css'>
        <link href="../assets/built/css/extra.css?v=b2a6ba2f34" rel="stylesheet" type="text/css">
            <link href="../assets/built/css/extra-post.css?v=b2a6ba2f34" rel="stylesheet" type="text/css">

        <link href="../assets/built/css/style.css?v=b2a6ba2f34" rel="stylesheet" type="text/css">

        <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
        <link rel="dns-prefetch" href="https://maxcdn.bootstrapcdn.com">
        <link rel="dns-prefetch" href="https://code.jquery.com">
        <link rel="dns-prefetch" href="https://fonts.googleapis.com">

        <script>
            var switcherActive = false;
            var themeColors = "brown dark";
        </script>

        <meta name="description" content="While updates of customer facing applications are likely to be rolled-out by 2021 many internal ones will not be ready in time. There are a few solutions." />
    <link rel="icon" href="../favicon.png" type="image/png" />
    <link rel="canonical" href="index.html" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="amp/index.html" />
    
    <meta property="og:site_name" content="germann.io" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Diffusing the Flash Bomb - Adobe Flash in 2021" />
    <meta property="og:description" content="While this may have not have been an unforeseeable step to force companies to adopt more modern frameworks many struggle to update their products in time for the 2021 deadline." />
    <meta property="og:url" content="https://www.germann.io/diffusing-the-flash-bomb/" />
    <meta property="og:image" content="https://www.germann.io/content/images/2020/12/tiles_what_s_newindesign-removalofflash.png" />
    <meta property="article:published_time" content="2020-09-23T20:39:00.000Z" />
    <meta property="article:modified_time" content="2020-12-20T11:40:55.000Z" />
    <meta property="article:tag" content="Technical" />
    <meta property="article:tag" content="Post" />
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Diffusing the Flash Bomb - Adobe Flash in 2021" />
    <meta name="twitter:description" content="While this may have not have been an unforeseeable step to force companies to adopt more modern frameworks many struggle to update their products in time for the 2021 deadline." />
    <meta name="twitter:url" content="https://www.germann.io/diffusing-the-flash-bomb/" />
    <meta name="twitter:image" content="https://www.germann.io/content/images/2020/12/tiles_what_s_newindesign-removalofflash.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Fabio Germann" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Technical, Post" />
    <meta name="twitter:creator" content="@germafab" />
    <meta property="og:image:width" content="834" />
    <meta property="og:image:height" content="526" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "germann.io",
        "url": "https://www.germann.io/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://www.germann.io/favicon.png",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Fabio Germann",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/ff93b9859894a34e33179206c8dfd2c0?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "https://www.germann.io/author/fabio/",
        "sameAs": [
            "https://germann.io",
            "https://twitter.com/germafab"
        ]
    },
    "headline": "Diffusing the Flash Bomb - Adobe Flash in 2021",
    "url": "https://www.germann.io/diffusing-the-flash-bomb/",
    "datePublished": "2020-09-23T20:39:00.000Z",
    "dateModified": "2020-12-20T11:40:55.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://www.germann.io/content/images/2020/12/tiles_what_s_newindesign-removalofflash.png",
        "width": 834,
        "height": 526
    },
    "keywords": "Technical, Post",
    "description": "While this may have not have been an unforeseeable step to force companies to adopt more modern frameworks many struggle to update their products in time for the 2021 deadline.",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://www.germann.io/"
    }
}
    </script>

    <meta name="generator" content="Ghost 3.40" />
    <link rel="alternate" type="application/rss+xml" title="germann.io" href="../rss/index.html" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-91MRLKQEXS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-91MRLKQEXS');
</script>

    </head>

    <body class="post-template tag-tec-dive tag-post">

        <!-- MAIN NAVBAR -->
<div id="main-navbar" class="sticky-ok">
    <nav class="navbar navbar-expand-lg">
        <div class="container">
                <a class="navbar-brand" href="../index.html">germann.io</a>
            <div class="mobile-navbar-buttons">
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-navbar-content" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fa fa-bars"></i>
                </button>
                <button class="search-panel-toggle d-lg-none btn-control navbar-toggler" type="button"><i class="fa fa-search"></i></button>
            </div>
            <div class="collapse navbar-collapse justify-content-end" id="main-navbar-content">
                <ul class="navbar-nav">
                            <li class="nav-item">
            <a class="nav-link" href="../index.html">Home</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="../tag/post/index.html">Posts</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="../author/fabio/index.html">Author</a>
        </li>

                    <li class="nav-item d-none d-lg-block">
                        <a class="btn-control nav-link search-panel-toggle"><i class="fa fa-search"></i></a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>



        


    <!-- POST INFO WRAPPER -->
    <div class="post-info-wrapper post-presentation active background lazy" data-src="https://www.germann.io/content/images/2020/12/tiles_what_s_newindesign-removalofflash.png">
        <div class="gradient gradient1">
            <div class="container d-flex align-items-center">
                <div class="row">
                    <div class="col-sm-12 col-md col-lg col-xs-12">
                        
                        <h1 class="animated fadeInUp">Diffusing the Flash &quot;Bomb&quot;</h1>
                        <div class="post-tags animated fadeIn">
                                <a href="../tag/tec-dive/index.html">Technical</a>
                                <a href="../tag/post/index.html">Post</a>
                        </div>
                    </div>
                    <div class="col-sm-12 col-md col-lg col-xs-12 ">
                        <p class="animated fadeInDown d-none d-sm-block">While this may have not have been an unforeseeable step to force companies to adopt more modern frameworks many struggle to update their products in time for the 2021 deadline.</p>
                    </div>
                </div>
            </div>

            <!-- AUTHOR INFO -->
            <div class="post-presentation author-wrapper container">
                <div class="d-flex justify-content-between align-items-center author-info">
                    <div class="multiple-authors animated fadeIn">
                                <a href="../author/fabio/index.html" class="vertical-align author-info">
                                    <div class="lazy author-image background " data-src="//www.gravatar.com/avatar/ff93b9859894a34e33179206c8dfd2c0?s&#x3D;250&amp;d&#x3D;mm&amp;r&#x3D;x"></div>Fabio Germann
                                </a>
                    </div>
                    <p class="animated fadeIn"><i class="far fa-clock"></i>3 months ago</p>
                </div>
            </div>
        </div>
    </div>

            <div class="latest-post">
            <div class="container d-md-flex align-items-center">
                <span class="badge badge-primary">Latest Post</span>
                <a href="../welcome/index.html" class="d-md-inline-flex d-block">Welcome <span>by Fabio Germann</span></a>
                
            </div>
        </div>

    <div id="main" class="container">
            <article>
    <p>A (long) while ago Adobe announced - to the joy of many in our industry - that they will discontinue the support of the Flash Player by 2021. Around the same time all the major browsers announced plans to discontinue integration of the Flash Player. Some already did so well ahead of time (Apple with Safari 14 for example).</p><h3 id="reality-check">Reality check</h3><p>While this may have not have been an unforeseeable step to force companies to adopt more modern frameworks (like Angular) many struggle to update their products in time for the 2021 deadline. While updates of customer facing applications are likely to be completed by beginning of 2021 many internal applications will not be ready in time. Enterprise IT usually contains many applications that will be seen by non-employees. Those system often won't get updated for many months if not years (some may be EOL with no updates at all).</p><p>This was also true for applications that I use on an (almost) daily basis. After a bit of research on this topic there were only a hand full of solutions: ‌‌</p><ul><li>Rewrite the application‌‌</li><li>Hire someone / outsource the rewrite of the application‌‌</li><li>Purchase a custom browser (with a proprietary build of the Flash Player)‌‌</li><li>Use a VM with "hacky" and seriously insecure configuration</li></ul><p>All of those options are not ideal: rewrite would take too long, paying for a rewrite blows the budget, a customer browser would also put a strain on the budget and using a virtual machine has many more drawbacks than just the risks related to security of the work environment.</p><p>There needed to be another solution! And there was!‌</p><p><strong>DISCLAIMER</strong>: <em>USE AT YOUR OWN RISK PLEASE BE AWARE THAT ANY INFORMATION PRESENTED HERE MAY BE CONSIDERED INACCURATE, DANGEROUS OR ILLEGAL DEPENDING ON YOUR LOCATION. ALSO NOTE THAT ANY LICENSES FOR INVOLVED SOFTWARE AND LIBRARIES NEED TO BE CONSIDERED AND FOLLOWED.</em></p><p>A customized, old "Chromium" browser with an outdated version of the PPAPI-Flash-Plugin as well as a custom extension for at least some security.</p><h3 id="building-the-browser">Building the browser</h3><p>As a base I used an old version of the Chromium browser - VCS revision 344925 to be exact. The archived versions can be found here: <a href="https://www.chromium.org/getting-involved/download-chromium">https://www.chromium.org/getting-involved/download-chromium</a></p><p>For simplicity I "transplanted" the PPAPI-Flash-Player which was bundled with a Google Chrome browser. Again I used an older version (50.0.2661.75) which you will undoubltedly find when searching for it on google.</p><p><code>cp -R Chrome.app/Contents/Versions/&lt;VERSION&gt;/Chromium\ Framework.framework/Internet\ Plug-Ins Chromium.app/Contents/Versions/&lt;VERSION&gt;/Chromium\ Framework.framework/</code></p><p>You might ask - with reason - why not just use Google Chrome? Well, Chrome's built-in auto update as well as "phone-home-features" would likely interfere with my plan later on.</p><p>For some reason Chromium could not find the PPAPI-Flash-Player plugin automatically but a CLI option did the trick. This meant that I had to change how the app was started (adding the CLI option to the defaults). On macOS this is done as follows (other OS allow similar configuration).</p><p>In the file <code>Chromium.app/Contents/Info.plist</code> the value for key <code>CFBundleExecutable</code> needed to be changed. For simplicity I created a new launcher script in <code>Chromium.app/Contents/MacOS/launcher</code> (don't forget to mark is as executable) with the content:</p><!--kg-card-begin: markdown--><pre><code>#!/bin/sh
RealBin=&quot;Chromium&quot;
AppDir=&quot;$(dirname &quot;$0&quot;)&quot;
exec &quot;$AppDir/$RealBin&quot; \
  --ppapi-flash-path=\
  &quot;$AppDir/../Versions/&lt;VERSION&gt;/Chromium Framework.framework/Internet Plug-Ins/PepperFlash/PepperFlashPlayer.plugin&quot;\
  --ppapi-flash-version=19.0.0.226
</code></pre>
<!--kg-card-end: markdown--><p>To my surprise this already worked quite well. BUT: as I am aware that an outdated browser with an outdated Flash version is quite a risk I need to take appropriate steps to lock down the browser.</p><h3 id="restricting-and-securing-the-browser">Restricting and securing the browser</h3><p>As I only need to access a very specific set of flash website (internal to the organization) there easy steps to secure the browser:</p><ul><li>Use an allow-list for URLs that the browser will open</li><li>Don't register the browser as a default browser</li><li>Don't register the browser to open any file type of the OS</li><li>Restrict navigation in general</li></ul><p>For the allow-list I chose to use an existing chrome extension and adapt it to my needs and then auto-load it through a launcher option. The extension I based my solution on can be found here: <a href="https://github.com/glitchedmob/Chrome-stay-focused">https://github.com/glitchedmob/Chrome-stay-focused</a> (the pre-built extension is located in the "build" directory. In order to change it from a "block-list" to an "allow-list" approach some changes in the code are necessary.</p><!--kg-card-begin: markdown--><pre><code>class Controller {
    constructor(store, view) {
        this.store = store;
        this.view = view;
        this.blockSites();
    }
    blockSites() {
        let atLeastOneMatch = false;
        for (let site of this.store.sites) {
            if (window.location.href.includes(site)) {
                atLeastOneMatch = true;
            }
        }
        if(!atLeastOneMatch) {
            this.view.addApp();
        }
    }
}
</code></pre>
<!--kg-card-end: markdown--><p>Furthermore I needed to add the allowed URLs to the configuration of the extension. All that was left to do was to package the extension with the browser. A few simple command line options of chromium did the trick:</p><!--kg-card-begin: markdown--><p><code>--load-extension=&quot;$AppDir/../Extension&quot;</code><br>
Also the contents of the extension (content of the &quot;build&quot; folder) needed to be copied there.</p>
<!--kg-card-end: markdown--><p>Last but not least I removed all capabilities of the patchwork browser to register itself as an application to open any sort of document. This had to be done inside the application configuration file:</p><!--kg-card-begin: markdown--><p><code>Chromium.app/Contents/Info.plist</code> where I removed all elements of <code>UTImportedTypeDeclarations</code>.</p>
<!--kg-card-end: markdown--><h2 id="conclusion">Conclusion</h2><p>While I still consider this an imperfect solution to the problem it still checks all the boxes: cost, flexibility and (a minimally) secure. On the other hand some of the pressure to drop flash completely fades - in the positive and negative sense.</p><p>In case you liked this post consider buying me a coffee (so I can write the next one).</p><!--kg-card-begin: html--><script type="text/javascript" src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js" data-name="bmc-button" data-slug="germann" data-color="#5F7FFF" data-emoji=""  data-font="Arial" data-text="Buy me a coffee" data-outline-color="#000" data-font-color="#fff" data-coffee-color="#fd0" ></script><!--kg-card-end: html-->
</article>

<div class="article-bottom-info d-flex justify-content-between align-items-center post-presentation">
            <a href="../author/fabio/index.html" class="vertical-align author-info d-none d-sm-inline-flex">
                <div class="author-image background lazy " data-src="//www.gravatar.com/avatar/ff93b9859894a34e33179206c8dfd2c0?s&#x3D;250&amp;d&#x3D;mm&amp;r&#x3D;x"></div>Fabio Germann
            </a>
    <p class="d-block d-sm-none"><i class="fa fa-clock-o"></i> Published 3 months ago</p>
    <div class="share-icons icons-visible">
        <div class="icon-container">
            <div class="icons">
                <span>Share this post on:</span>
                <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.germann.io/diffusing-the-flash-bomb/" onclick="window.open(this.href, 'facebook-share','width=580, height=300');return false;"><i class="fab fa-facebook-f"></i></a>
                <a href="https://twitter.com/share?text=Diffusing%20the%20Flash%20%22Bomb%22&amp;url=https://www.germann.io/diffusing-the-flash-bomb/" onclick="window.open(this.href, 'twitter-share', 'width=580, height=300');return false;"><i class="fab fa-twitter"></i></a>
            </div>
        </div>
    </div>
</div>

<div class="next-prev-post-wrapper">
    <div class="row">
            <div class="col-xs-12 col-sm-12 col-md col-lg">
                <div class="post post-next post-presentation background lazy" data-src="https://www.germann.io/content/images/2020/12/IMG_20200606_092041-1.jpg">
                    <div class="gradient gradient2 d-flex align-items-center">
                        <div class="post-info">
                            <span>Next Post <i class="fa fa-chevron-right"></i></span>
                            <h3><a href="../welcome/index.html">Welcome</a></h3>
                            <div class="post-tags"><a href="../tag/getting-started/index.html">Getting Started</a></div>
                        </div>
                    </div>
                </div>
            </div>
    </div>
</div>

    </div>






        <div id="search-section">
    <form class="container">
        <input autocomplete="off" ype="text" class="form form-control" id="search-field" placeholder="Search a post...">
        <input type="submit" value="search" class="d-none">
        <div id="results"></div>
    </form>
    <i class="search-panel-toggle fa fa-close fas fa-times"></i>
    <i class="fas fa-spinner"></i>
</div>

        <footer id="rights" class="lazy background"
data-src="/content/images/2020/12/philipp-katzenberger-iIJrUoeRoCQ-unsplash.jpg">
    <div class="gradient gradient2">
        <div class="container d-md-flex align-items justify-content-between">
            <p>germann.io &copy; 2020.</p>
            <div class="social-icons">
                
                
                <a href="../rss/index.html" taget="_blank" rel="noopener"><i class="fa fa-rss"></i></a>
            </div>
        </div>
            </div>
</footer>


        <script>
            var ghosthunter_key = "";
            var maxPages = parseInt('');
            var endMessage = 'No More Posts';
            var loadingMessage = 'Loading...';
            var Message = 'More posts';
        </script>

        <script src="../assets/built/js/extra.js?v=b2a6ba2f34"></script>
            <script src="../assets/built/js/extra-post.js?v=b2a6ba2f34"></script>
    <script>
        $(document).ready(function() {
            $("article").fitVids();
            $( "table" ).wrap("<div class='table-responsive'></div>");
            $(".kg-gallery-image > img").wrap("<a data-gallery='collection-gallery' data-toggle='lightbox' class='lb-item' href='index.html'></a>");
            $(".lb-item").each(function(e, t) {
               $(this).attr("href", $(this).children("img").attr("src"))
            });
            $(document).on("click", '[data-toggle="lightbox"]', function(e) {
               e.preventDefault(), $(this).ekkoLightbox()
            });
            document.querySelectorAll(".kg-gallery-image img").forEach(function(e) {
               var t = e.closest(".kg-gallery-image"),
                   a = e.attributes.width.value / e.attributes.height.value;
               t.style.flex = a + " 1 0%"
            })
       });
   </script>

        <script src="../assets/built/js/main.js?v=b2a6ba2f34"></script>

        

    </body>

</html>
